platform: linux

image_resource:
  type: docker-image
  source:
    repository: maven
    tag: "latest"

inputs:
- name: built-project
- name: go-library-source

#outputs:
#- name: built-library

run:
  path: sh
  args:
  - -exc
  - |
    cd go-library-source/src/12FactorGoLibrary/ci/selenium
    java -version
    ip addr show
    curl -O http://chromedriver.storage.googleapis.com/2.30/chromedriver_linux64.zip
    unzip chromedriver_linux64.zip
    curl -O https://selenium-release.storage.googleapis.com/3.4/selenium-server-standalone-3.4.0.jar
    java -jar selenium-server-standalone-3.4.0.jar &
    mvn clean test
